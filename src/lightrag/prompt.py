
from __future__ import annotations
from typing import Any

PROMPTS: dict[str, Any] = {}

# ===================== 核心配置 =====================
# 所有分隔符必须格式化为 "<|大写字符串|>"
PROMPTS["DEFAULT_TUPLE_DELIMITER"] = "<|#|>"
PROMPTS["DEFAULT_COMPLETION_DELIMITER"] = "<|COMPLETE|>"

# ===================== 针对云南电网优化的实体关系提取 =====================
PROMPTS["entity_extraction_system_prompt"] = """---角色---
您是云南电网知识图谱的专用实体关系抽取专家。

---核心任务---
从云南电网业务文本中精准识别以下信息：
1. **实体**：具有明确身份和类型的电网业务要素
2. **关系**：实体之间明确陈述的业务联系

---实体抽取规则---
**必须提取以下14类实体：**
1. 人才：人员个体，如"李鹏"、"张伟"、"王静"
2. 项目：具体项目/课题，如"云南智能电网示范项目"、"云电送粤工程"
3. 组织机构：公司/部门/单位，如"云南电网公司"、"南方电网公司"
4. 技术领域：技术方向，如"智能电网技术"、"新能源并网技术"
5. 技能专长：具体技能，如"数字化转型"、"变电站自动化"
6. 成果专利：奖项/专利/论文，如"电力行业杰出领导奖"、"全国五一劳动奖章"
7. 学历背景：学校/专业，如"清华大学电气工程博士"、"华北电力大学"
8. 职称等级：职称/职务，如"董事长"、"总经理"、"首席技术专家"
9. 专家类别：专家类型，如"青年技术骨干"、"技术专家"
10. 培训经历：培训/学习，如"数字化转型高级研修班"
11. 评价标准：评价指标，如"5亿元"、"99.98%"、"15年"
12. 专业方向：专业领域，如"电气工程"、"电力系统"
13. 项目角色：在项目中的角色，如"项目负责人"、"项目成员"
14. 区域单位：地域性单位，如"昆明市"、"云南省"

**特别注意：**
- **"云南电网公司董事长"是"职称等级"类型，不是"人才"类型**
- **"人才"类型只用于人名，如"李鹏"**
- **职务信息应作为实体描述的一部分，而不是实体名称**
- **时间信息(如"2018年")应归类为"评价标准"类型**
- **金额信息(如"5亿元")应归类为"评价标准"类型**
- **工作经验(如"15年")应归类为"评价标准"类型**

---关系抽取规则---
**关系必须是文本中明确陈述的，不能推断**

**标准三元组格式：**
头实体 → 关系 → 尾实体

**关系类型要求（基于云南电网三元组规范）：**
- 使用标准关系词：如"全资子公司"、"总部所在地"、"服务区域"、"担任职务"
- 避免通用词如"相关"、"参与"，使用业务术语
- 保持关系简洁准确，如"任职开始时间"、"曾任职务"、"获得奖项"

---输出格式---
**严格按以下格式，每行一个记录：**

实体：entity<|#|>名称<|#|>类型<|#|>描述
关系：relation<|#|>头实体<|#|>尾实体<|#|>关系类型<|#|>描述

**正确示例（基于云南电网三元组）：**
entity<|#|>云南电网公司<|#|>组织机构<|#|>南方电网公司的全资子公司，总部在昆明市，服务云南省
entity<|#|>南方电网公司<|#|>组织机构<|#|>云南电网公司的母公司
entity<|#|>李鹏<|#|>人才<|#|>云南电网公司董事长，2018年开始任职
entity<|#|>董事长<|#|>职称等级<|#|>公司最高领导职务
relation<|#|>云南电网公司<|#|>南方电网公司<|#|>全资子公司<|#|>云南电网公司是南方电网公司的全资子公司
relation<|#|>李鹏<|#|>云南电网公司董事长<|#|>担任职务<|#|>李鹏担任云南电网公司董事长
relation<|#|>李鹏<|#|>2018年<|#|>任职开始时间<|#|>李鹏2018年开始任职

**错误示例（避免）：**
entity<|#|>李鹏董事长<|#|>人才<|#|>XXX  # 错误：不应该将职务作为名称一部分
entity<|#|>2018<|#|>时间<|#|>XXX  # 错误：时间应归类为"评价标准"类型，名称应完整如"2018年"

最后一行必须是：<|COMPLETE|>
"""

PROMPTS["entity_extraction_user_prompt"] = """---任务---
从下方"待处理数据"中的输入文本抽取电网人才领域的实体和关系。

---特别指令---
1. **严格遵循三元组标准**：按照"头实体→关系→尾实体"格式提取
2. **人职分离**：人名和职务要分开提取
   - 人名(如"李鹏") -> "人才"类型
   - 职务(如"董事长") -> "职称等级"类型
   - 建立人职关系时使用"担任职务"关系
3. **时间金额标准化**：
   - 时间信息如"2018年" -> "评价标准"类型
   - 金额信息如"5亿元" -> "评价标准"类型
   - 建立关系时使用具体关系类型如"任职开始时间"、"项目预算"
4. **项目关系明确**：
   - 项目成员关系使用"项目成员"
   - 项目负责人关系使用"项目负责人"
   - 项目状态使用"项目状态"，预算使用"项目预算"
5. **培训经历处理**：
   - 培训课程如"数字化转型高级研修班" -> "培训经历"类型
   - 培训讲师关系使用"培训讲师"
   - 培训学员关系使用"参与培训"
6. **时间信息整合**：任职时间、获奖时间等要建立明确关系，不要混在描述中
7. **严格遵循格式**：每行一条记录，最后一行输出<|COMPLETE|>

---待处理数据---
<实体类型>
[{entity_types}]

<输入文本>
```
{input_text}
```

<输出>
"""

PROMPTS["entity_extraction_examples"] = [
    """<实体类型>
["人才", "项目", "组织机构", "技术领域", "技能专长", "成果专利", "学历背景", "职称等级", "专家类别", "培训经历", "评价标准", "专业方向", "项目角色", "区域单位"]

<输入文本>
```
云南电网公司是南方电网公司的全资子公司，总部位于昆明市，服务区域为云南省。李鹏担任云南电网公司董事长，任职开始时间为2018年。他曾任云南省能源局副局长，曾任时间为2015年-2018年，并获得电力行业杰出领导奖。张伟担任云南电网公司总经理，拥有清华大学电气工程博士学历，专业领域为智能电网技术，获得全国五一劳动奖章和电力科技创新奖。王静担任云南电网公司首席技术专家，有15年工作经验，技术专长为新能源并网技术，主导云电送粤工程。赵强是云南电网公司青年技术骨干，2020年毕业于华北电力大学，负责变电站自动化改造项目，2023年获得青年岗位能手称号。刘芳现任云南电网公司新能源部主任，原任广东电网公司技术专家，2021年通过南方电网内部人才交流计划调动。
```

<输出>
entity<|#|>云南电网公司<|#|>组织机构<|#|>南方电网公司的全资子公司，总部在昆明市，服务云南省
entity<|#|>南方电网公司<|#|>组织机构<|#|>云南电网公司的母公司
entity<|#|>昆明市<|#|>区域单位<|#|>云南电网公司总部所在地
entity<|#|>云南省<|#|>区域单位<|#|>云南电网公司服务区域
entity<|#|>李鹏<|#|>人才<|#|>云南电网公司董事长，曾任云南省能源局副局长
entity<|#|>张伟<|#|>人才<|#|>云南电网公司总经理，清华大学电气工程博士
entity<|#|>王静<|#|>人才<|#|>云南电网公司首席技术专家，15年工作经验
entity<|#|>赵强<|#|>人才<|#|>云南电网公司青年技术骨干，2020年毕业
entity<|#|>刘芳<|#|>人才<|#|>云南电网公司新能源部主任，原广东电网公司技术专家
entity<|#|>董事长<|#|>职称等级<|#|>公司最高领导职务
entity<|#|>总经理<|#|>职称等级<|#|>公司日常经营负责人
entity<|#|>首席技术专家<|#|>职称等级<|#|>公司技术负责人
entity<|#|>青年技术骨干<|#|>专家类别<|#|>公司青年技术人才
entity<|#|>新能源部主任<|#|>职称等级<|#|>新能源部门负责人
entity<|#|>技术专家<|#|>专家类别<|#|>专业技术人才
entity<|#|>副局长<|#|>职称等级<|#|>单位副职领导
entity<|#|>2018年<|#|>评价标准<|#|>时间年份
entity<|#|>2015年-2018年<|#|>评价标准<|#|>时间区间
entity<|#|>2020年<|#|>评价标准<|#|>时间年份
entity<|#|>2023年<|#|>评价标准<|#|>时间年份
entity<|#|>2021年<|#|>评价标准<|#|>时间年份
entity<|#|>15年<|#|>评价标准<|#|>工作经验年限
entity<|#|>电力行业杰出领导奖<|#|>成果专利<|#|>电力行业领导奖项
entity<|#|>全国五一劳动奖章<|#|>成果专利<|#|>全国性劳动奖项
entity<|#|>电力科技创新奖<|#|>成果专利<|#|>电力科技创新奖项
entity<|#|>青年岗位能手<|#|>成果专利<|#|>青年人才荣誉称号
entity<|#|>清华大学电气工程博士<|#|>学历背景<|#|>清华大学博士学位
entity<|#|>华北电力大学<|#|>学历背景<|#|>电力行业高等院校
entity<|#|>智能电网技术<|#|>技术领域<|#|>智能电网相关技术
entity<|#|>新能源并网技术<|#|>技术领域<|#|>新能源接入电网技术
entity<|#|>云电送粤工程<|#|>项目<|#|>云南送电到广东的工程
entity<|#|>变电站自动化改造项目<|#|>项目<|#|>变电站自动化改造项目
entity<|#|>南方电网内部人才交流计划<|#|>项目<|#|>南方电网内部人才交流项目
entity<|#|>云南省能源局<|#|>组织机构<|#|>云南省能源管理部门
entity<|#|>广东电网公司<|#|>组织机构<|#|>广东省电网公司
relation<|#|>云南电网公司<|#|>南方电网公司<|#|>全资子公司<|#|>云南电网公司是南方电网公司的全资子公司
relation<|#|>云南电网公司<|#|>昆明市<|#|>总部所在地<|#|>云南电网公司总部位于昆明市
relation<|#|>云南电网公司<|#|>云南省<|#|>服务区域<|#|>云南电网公司服务区域为云南省
relation<|#|>李鹏<|#|>云南电网公司董事长<|#|>担任职务<|#|>李鹏担任云南电网公司董事长
relation<|#|>李鹏<|#|>2018年<|#|>任职开始时间<|#|>李鹏2018年开始任职
relation<|#|>李鹏<|#|>云南省能源局副局长<|#|>曾任职务<|#|>李鹏曾任云南省能源局副局长
relation<|#|>李鹏<|#|>2015年-2018年<|#|>曾任时间<|#|>李鹏2015年-2018年曾任副局长
relation<|#|>李鹏<|#|>电力行业杰出领导奖<|#|>获得奖项<|#|>李鹏获得电力行业杰出领导奖
relation<|#|>张伟<|#|>云南电网公司总经理<|#|>担任职务<|#|>张伟担任云南电网公司总经理
relation<|#|>张伟<|#|>清华大学电气工程博士<|#|>教育背景<|#|>张伟拥有清华大学电气工程博士学位
relation<|#|>张伟<|#|>智能电网技术<|#|>专业领域<|#|>张伟专业领域为智能电网技术
relation<|#|>张伟<|#|>全国五一劳动奖章<|#|>获得奖项<|#|>张伟获得全国五一劳动奖章
relation<|#|>张伟<|#|>电力科技创新奖<|#|>获得奖项<|#|>张伟获得电力科技创新奖
relation<|#|>王静<|#|>云南电网公司首席技术专家<|#|>担任职务<|#|>王静担任云南电网公司首席技术专家
relation<|#|>王静<|#|>15年<|#|>工作经验<|#|>王静有15年工作经验
relation<|#|>王静<|#|>新能源并网技术<|#|>技术专长<|#|>王静技术专长为新能源并网技术
relation<|#|>王静<|#|>云电送粤工程<|#|>主导项目<|#|>王静主导云电送粤工程
relation<|#|>赵强<|#|>云南电网公司青年技术骨干<|#|>担任职务<|#|>赵强担任云南电网公司青年技术骨干
relation<|#|>赵强<|#|>2020年<|#|>毕业时间<|#|>赵强2020年毕业
relation<|#|>赵强<|#|>华北电力大学<|#|>毕业院校<|#|>赵强毕业于华北电力大学
relation<|#|>赵强<|#|>变电站自动化改造项目<|#|>负责项目<|#|>赵强负责变电站自动化改造项目
relation<|#|>赵强<|#|>青年岗位能手<|#|>获得称号<|#|>赵强获得青年岗位能手称号
relation<|#|>赵强<|#|>2023年<|#|>获得时间<|#|>赵强2023年获得称号
relation<|#|>刘芳<|#|>云南电网公司新能源部主任<|#|>现任职务<|#|>刘芳现任云南电网公司新能源部主任
relation<|#|>刘芳<|#|>广东电网公司技术专家<|#|>曾任职务<|#|>刘芳曾任广东电网公司技术专家
relation<|#|>刘芳<|#|>2021年<|#|>调动时间<|#|>刘芳2021年调动
relation<|#|>刘芳<|#|>南方电网内部人才交流计划<|#|>调动方式<|#|>刘芳通过南方电网内部人才交流计划调动
<|COMPLETE|>
""",
    """<实体类型>
["人才", "项目", "组织机构", "技术领域", "技能专长", "成果专利", "学历背景", "职称等级", "专家类别", "培训经历", "评价标准", "专业方向", "项目角色", "区域单位"]

<输入文本>
```
云南智能电网示范项目正在进行中，开始日期为2022-01-01，项目预算5亿元。项目负责人是陈明，项目成员包括王静、赵强、刘芳。同时，公司举办了数字化转型高级研修班，培训时长3个月，2024年6月30日完成，颁发高级数字化管理师证书。培训讲师是李鹏，培训学员包括张伟、王静、陈明、赵强、刘芳。该项目是2022年至今的重要项目。
```

<输出>
entity<|#|>云南智能电网示范项目<|#|>项目<|#|>云南智能电网示范项目
entity<|#|>进行中<|#|>评价标准<|#|>项目状态
entity<|#|>2022-01-01<|#|>评价标准<|#|>项目开始日期
entity<|#|>5亿元<|#|>评价标准<|#|>项目预算金额
entity<|#|>陈明<|#|>人才<|#|>云南智能电网示范项目负责人
entity<|#|>王静<|#|>人才<|#|>云南电网公司首席技术专家
entity<|#|>赵强<|#|>人才<|#|>云南电网公司青年技术骨干
entity<|#|>刘芳<|#|>人才<|#|>云南电网公司新能源部主任
entity<|#|>数字化转型高级研修班<|#|>培训经历<|#|>数字化转型高级研修班
entity<|#|>3个月<|#|>评价标准<|#|>培训时长
entity<|#|>2024-06-30<|#|>评价标准<|#|>培训完成日期
entity<|#|>高级数字化管理师<|#|>评价标准<|#|>培训颁发证书
entity<|#|>李鹏<|#|>人才<|#|>云南电网公司董事长
entity<|#|>张伟<|#|>人才<|#|>云南电网公司总经理
entity<|#|>2022年至今<|#|>评价标准<|#|>项目周期
entity<|#|>2024年<|#|>评价标准<|#|>培训年份
entity<|#|>项目负责人<|#|>项目角色<|#|>项目主要负责人
entity<|#|>项目成员<|#|>项目角色<|#|>项目参与成员
entity<|#|>培训讲师<|#|>职称等级<|#|>培训课程讲师
entity<|#|>培训学员<|#|>职称等级<|#|>培训课程学员
relation<|#|>云南智能电网示范项目<|#|>进行中<|#|>项目状态<|#|>云南智能电网示范项目状态为进行中
relation<|#|>云南智能电网示范项目<|#|>2022-01-01<|#|>开始日期<|#|>云南智能电网示范项目开始日期为2022-01-01
relation<|#|>云南智能电网示范项目<|#|>5亿元<|#|>项目预算<|#|>云南智能电网示范项目预算5亿元
relation<|#|>云南智能电网示范项目<|#|>陈明<|#|>项目负责人<|#|>陈明是云南智能电网示范项目负责人
relation<|#|>云南智能电网示范项目<|#|>王静<|#|>项目成员<|#|>王静是云南智能电网示范项目成员
relation<|#|>云南智能电网示范项目<|#|>赵强<|#|>项目成员<|#|>赵强是云南智能电网示范项目成员
relation<|#|>云南智能电网示范项目<|#|>刘芳<|#|>项目成员<|#|>刘芳是云南智能电网示范项目成员
relation<|#|>数字化转型高级研修班<|#|>3个月<|#|>培训时长<|#|>数字化转型高级研修班培训时长3个月
relation<|#|>数字化转型高级研修班<|#|>2024-06-30<|#|>完成日期<|#|>数字化转型高级研修班2024年6月30日完成
relation<|#|>数字化转型高级研修班<|#|>高级数字化管理师<|#|>颁发证书<|#|>数字化转型高级研修班颁发高级数字化管理师证书
relation<|#|>数字化转型高级研修班<|#|>李鹏<|#|>培训讲师<|#|>李鹏是数字化转型高级研修班培训讲师
relation<|#|>数字化转型高级研修班<|#|>张伟<|#|>培训学员<|#|>张伟参与数字化转型高级研修班培训
relation<|#|>数字化转型高级研修班<|#|>王静<|#|>培训学员<|#|>王静参与数字化转型高级研修班培训
relation<|#|>数字化转型高级研修班<|#|>陈明<|#|>培训学员<|#|>陈明参与数字化转型高级研修班培训
relation<|#|>数字化转型高级研修班<|#|>赵强<|#|>培训学员<|#|>赵强参与数字化转型高级研修班培训
relation<|#|>数字化转型高级研修班<|#|>刘芳<|#|>培训学员<|#|>刘芳参与数字化转型高级研修班培训
relation<|#|>云南智能电网示范项目<|#|>2022年至今<|#|>项目周期<|#|>云南智能电网示范项目周期为2022年至今
relation<|#|>数字化转型高级研修班<|#|>2024年<|#|>培训年份<|#|>数字化转型高级研修班培训年份为2024年
<|COMPLETE|>
"""
]

PROMPTS["entity_continue_extraction_user_prompt"] = """---任务---
基于上次抽取结果，查漏补缺，识别并抽取任何**遗漏或格式错误**的实体和关系。

---特别关注---
1. **检查三元组完整性**：确保每个关系都有完整的"头实体-关系-尾实体"
2. **补充时间信息**：任职时间、获奖时间、项目时间等要单独建立关系
3. **完善关系网络**：补充缺失的人物-职务关系、项目-成员关系等
4. **修正实体类型**：确保时间、金额等属于"评价标准"类型
5. **统一关系命名**：使用标准关系词如"担任职务"、"获得奖项"、"项目预算"等

---指令---
1. **严格遵循格式**：严格遵循系统指令中规定的所有格式要求。
2. **专注于更正/补充**：
   * **请勿**重新输出上次已正确抽取的实体和关系。
   * 若上次**遗漏**了，请本次输出。
   * 若上次格式不正确（如字段缺失、截断），请输出**完整且正确**的版本。
3. **仅输出内容与完成信号**：仅输出新增或更正的实体和关系列表，最后一行输出 `{completion_delimiter}`。

<输出>
"""

# ===================== 针对问答优化的关键词提取 =====================
PROMPTS["keywords_extraction"] = """---角色---
您是云南电网知识库检索系统的关键词抽取专家。

---目标---
分析用户查询，抽取两类关键词以优化检索：
1. **high_level_keywords**：核心意图与主题（如"人才信息"、"组织架构"）
2. **low_level_keywords**：具体实体与细节（如"李鹏"、"董事长"、"云南电网公司"）

---特别针对人物查询---
当查询涉及人物信息时：
1. 识别查询中的人物姓名或职务
2. 提取相关组织、职务、时间等上下文
3. 将"是谁"、"什么职务"等转化为具体搜索关键词

---指令与约束---
1. **输出格式**：输出必须是**有效JSON对象**，无任何其他文本。将由程序直接解析。
2. **来源**：所有关键词必须严格源自用户查询。
3. **简洁有意义**：抽取有意义短语。
4. **语言**：所有关键词使用中文。专有名词保留原样。

---用户查询---
{query}

---输出---
"""

PROMPTS["keywords_extraction_examples"] = [
    """
    查询："云南电网董事长是谁？"
    
    输出：
    {
    "high_level_keywords": ["云南电网", "董事长", "人物信息"],
    "low_level_keywords": ["李鹏", "职务", "公司领导"]
    }
    """,
    """
    查询："张伟的学历背景是什么？"
    
    输出：
    {
    "high_level_keywords": ["张伟", "学历背景", "教育信息"],
    "low_level_keywords": ["清华大学", "电气工程博士", "学历"]
    }
    """,
    """
    查询："云南智能电网示范项目的预算是多少？"
    
    输出：
    {
    "high_level_keywords": ["云南智能电网示范项目", "项目预算", "项目信息"],
    "low_level_keywords": ["5亿元", "预算", "项目资金"]
    }
    """
]

# ===================== 其他提示词保持不变 =====================
PROMPTS["summarize_entity_descriptions"] = """---角色---
您是精通数据整理与综合的知识图谱专家。

---任务---
将给定实体或关系的多个描述，综合成一段全面、连贯的摘要。

---指令---
1. **输入**：描述列表以JSON格式提供。
2. **输出**：返回纯文本摘要，以段落呈现，前后无额外格式或注释。
3. **全面性**：整合*所有*描述中的关键信息，不得遗漏。
4. **客观性与结构**：以客观的第三人称撰写。开头明确提及实体或关系的全名。
5. **冲突处理**：若描述冲突，首先判断是否为同名不同对象，若是则分别总结；若为同一对象则调和或同时呈现并注明。
6. **长度**：摘要不超过 {summary_length} 字，同时保持深度。
7. **语言**：输出语言为中文。专有名词保留原样。

---输入---
{description_type} 名称： {description_name}

描述列表：

```
{description_list}
```

---输出---
"""

PROMPTS["rag_response"] = """---角色---
您是专业的AI助手，专门从提供的云南电网知识库中综合信息回答问题。

---目标---
基于**严格遵循**提供的**上下文**，生成一个全面、结构良好的回答。

---指令---
1. **步骤**：
   * 结合对话历史理解用户意图。
   * **仅从**上下文中的 `知识图谱数据` 和 `文档片段` 提取相关信息。
   * 将事实编织成连贯回复。自身知识仅用于组织语言，**严禁引入外部信息**。
   * 追踪支持事实的 `reference_id`，并在回复末尾生成参考文献。
   * 参考文献后不生成任何内容。
2. **内容依据**：严格依据上下文，不捏造、不推测。找不到答案时，直接说明信息不足。
3. **格式与语言**：使用与用户查询相同的语言（中文）。回复使用Markdown格式以增强可读性。
4. **参考文献格式**：
   * 标题：`### 参考文献`
   * 格式：`* [n] 文档标题`（无需插入符`^`）。
   * 文档标题保留原始语言。
   * 最多提供5个最相关引用。

---上下文---
{context_data}
"""

PROMPTS["kg_query_context"] = """
知识图谱数据（实体）：
```json
{entities_str}
```

知识图谱数据（关系）：
```json
{relations_str}
```

相关文档片段（每个片段关联一个引用ID）：
```json
{text_chunks_str}
```

参考文献列表（引用ID对应上述片段）：
```
{reference_list_str}
```
"""

PROMPTS["fail_response"] = (
    "抱歉，根据我当前的知识库，无法回答这个问题。[无相关上下文]"
)

PROMPTS["naive_rag_response"] = PROMPTS.get("naive_rag_response", "")
PROMPTS["naive_query_context"] = PROMPTS.get("naive_query_context", "")

# ===================== 专门针对测试文章的验证用例 =====================
PROMPTS["test_article"] = {
    "title": "云南电网公司2024年度工作会议暨数字化转型推进会议",
    "content": """云南电网公司2024年度工作会议暨数字化转型推进会议在昆明召开

2024年3月15日，云南电网公司在昆明市总部召开了年度工作会议。公司董事长李鹏主持会议并发表重要讲话，总经理张伟作了年度工作报告。
李鹏董事长在讲话中回顾了公司发展历程。云南电网公司作为南方电网公司的全资子公司，自成立以来始终服务于云南省全境，为全省16个州市提供稳定可靠的电力供应。他特别提到，自2018年担任董事长以来，公司持续推进电网智能化建设，期间他本人还荣获了2022年度"电力行业杰出领导奖"。
张伟总经理在报告中详细介绍了公司2023年的经营情况。作为清华大学电气工程博士，他重点阐述了公司数字化转型的最新进展。2023年，云南电网公司投资15亿元用于智能电网改造，在昆明、大理、丽江等地部署了新一代配电自动化系统，供电可靠性提升至99.98%。
会议期间，还举办了"电网数字化转型高级研修班"，李鹏董事长亲自担任培训讲师，分享了他在云南省能源局担任副局长期间（2015年-2018年）积累的能源政策实践经验。来自公司各部门的120名技术骨干参加了培训。
在技术成果展示环节，公司展示了与南方电网公司研究院合作开发的"云电智慧调度平台"。该平台利用人工智能技术，实现了对云南省丰富的水电、风电、光伏发电的优化调度，2023年累计减少弃水弃电3.2亿千瓦时。
云南电网公司计划部负责人介绍，2024年公司将重点推进滇中新区电网建设和老旧小区配电设施改造两大工程。同时，公司将深化与南方电网公司的协同，参与"粤港澳大湾区清洁能源供应"项目，计划年内通过西电东送通道增加送电量50亿千瓦时。
本次会议还表彰了2023年度先进集体和个人。调度控制中心等5个单位获"先进部门"称号，李鹏董事长和张伟总经理为获奖代表颁奖。""",

    "expected_extractions": [
        # 核心人物实体
        {"type": "人才", "name": "李鹏", "description_should_contain": ["董事长", "2018年", "电力行业杰出领导奖", "2022年"]},
        {"type": "人才", "name": "张伟", "description_should_contain": ["总经理", "清华大学电气工程博士"]},

        # 职务实体
        {"type": "职称等级", "name": "董事长", "description_should_contain": ["公司最高领导"]},
        {"type": "职称等级", "name": "总经理", "description_should_contain": ["公司经营负责人"]},
        {"type": "职称等级", "name": "培训讲师", "description_should_contain": ["培训授课"]},
        {"type": "职称等级", "name": "副局长", "description_should_contain": ["副职领导"]},

        # 组织实体
        {"type": "组织机构", "name": "云南电网公司", "description_should_contain": ["南方电网公司", "全资子公司", "云南省"]},
        {"type": "组织机构", "name": "南方电网公司", "description_should_contain": ["云南电网公司母公司"]},
        {"type": "组织机构", "name": "云南省能源局", "description_should_contain": ["能源管理部门"]},

        # 关键关系
        {"relation": ["李鹏", "董事长"], "keywords_should_contain": ["担任", "任职"]},
        {"relation": ["张伟", "总经理"], "keywords_should_contain": ["担任", "任职"]},
        {"relation": ["云南电网公司", "南方电网公司"], "keywords_should_contain": ["全资子公司", "隶属"]},
        {"relation": ["李鹏", "电力行业杰出领导奖"], "keywords_should_contain": ["荣获", "获得"]},
        {"relation": ["张伟", "清华大学电气工程博士"], "keywords_should_contain": ["拥有", "学历"]},
        {"relation": ["李鹏", "云南省能源局"], "keywords_should_contain": ["曾任", "工作"]},
        {"relation": ["李鹏", "副局长"], "keywords_should_contain": ["担任", "任职"]},
    ],

    "test_queries": [
        {
            "query": "云南电网公司董事长是谁？",
            "expected_answer_contains": ["李鹏", "董事长", "2018年", "电力行业杰出领导奖"]
        },
        {
            "query": "张伟的学历是什么？",
            "expected_answer_contains": ["清华大学", "电气工程博士"]
        },
        {
            "query": "李鹏在担任云南电网董事长之前做什么工作？",
            "expected_answer_contains": ["云南省能源局", "副局长", "2015年-2018年"]
        }
    ]
}
